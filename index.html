<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>facebook grabber</title>
</head>
<style>
    .result {
        border: 2px solid #73AD21;
    }
</style>
<script src="/socket.io/socket.io.js"></script>
<script>
    var socket = io();
    function get(type) {
        var input = document.getElementById(type);
        var id = input.value;
        socket.emit(type, id);
        input.value = "";
        var div = document.getElementById(id);
        if (!div) {
            div = document.createElement("div");
            div.setAttribute("id", id);
            div.setAttribute("class", "result");
        }
        div.innerHTML = 'wait result for ' + type + ' "' + id + '" ...';
        document.getElementById("results").appendChild(div);
    }
    socket.on('result', function (data) {
        var div = document.getElementById(data.name);
        div.innerHTML = "";
        var name = document.createElement("p");
        name.innerHTML = data.type + ": " + data.name;
        var time = document.createElement("p");
        time.innerHTML = "time: " + data.time;
        var total = document.createElement("p");
        total.innerHTML = "total: " + data.total;
        var ids = document.createElement("p");
        ids.innerHTML = "ids:" + data.ids;
        div.appendChild(name);
        div.appendChild(time);
        div.appendChild(total);
        div.appendChild(ids);
    });
</script>
<body>
group:<input id="group"/>
<button onclick="get('group')">send</button>
page:<input id="page"/>
<button onclick="get('page')">send</button>
<br><br>
<div id="results"/>
</body>
</html>